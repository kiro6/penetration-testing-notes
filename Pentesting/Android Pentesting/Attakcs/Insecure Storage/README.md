## ðŸ“‘ Contents 
- [Storage in Android](#storage-in-android )
  - [Internal Storage](#internal-storage)
  - [External Storage](#external-storage)
  - [Shared Preferences](#shared-preferences)
  - [Databases (SQLite--room)](#databases-sqlite--room)
  - [Cache Files](#cache-files)


## Storage in Android 
### Internal Storage
- Private to your app.
- Stored in `/data/data/<your_package_name>/files/`
- Other apps and the user normally canâ€™t access it directly (without root).
- Data is deleted automatically when the app is uninstalled.
- Example use: saving sensitive information like tokens, config files, or app-specific data.
```java
File file = new File(context.getFilesDir(), "myfile.txt");
```
### External Storage
- Shared across apps in `/storage/emulated/<user_id>` 
  - to read needs [READ_EXTERNAL_STORAGE](#read_external_storage).
  - to write needs (Scoped Storage preferred for your own app):
    - for Android 10 (API 29) and below [WRITE_EXTERNAL_STORAGE](#write_external_storage).
    - for Android 11 (API 30) and above [MANAGE_EXTERNAL_STORAGE](#manage_external_storage).
- Scoped external storage per app stored in `/storage/emulated/<user_id>/Android/data/<package_name>/files/`
  - for read and write access [MANAGE_EXTERNAL_STORAGE](#manage_external_storage). 
- Can be removable (like an SD card) or emulated internal storage.
- Data here is public (unless you use scoped storage with app-specific dirs).
- Apps can still use the permission `MANAGE_EXTERNAL_STORAGE` on Android 13+ to request access to all files on external storage, expect scoped ones.
- Example use: media files (photos, downloads, large assets).
```java
File file = new File(context.getExternalFilesDir(null), "myfile.txt");
```

### Shared Preferences
- Data is private to your app and persists after the app restarts.
- Stored in  `/data/data/<package_name>/shared_prefs/`
- Stores key-value pairs (like a dictionary).
- Good for lightweight data (settings, flags, login state).
```java
SharedPreferences prefs = context.getSharedPreferences("MyPrefs", MODE_PRIVATE);
SharedPreferences.Editor editor = prefs.edit();
editor.putString("username", "kiro");
editor.apply();
```
### Databases (SQLite / Room)
- Data is private to your app and persists after the app restarts.
- Stored in  `/data/data/<package_name>/databases/`  
- Structured storage for relational data.
- Suitable for complex data with relations (users, orders, notes).
- SQLite is built-in, but Room provides an easier abstraction.
```java
SQLiteDatabase db = context.openOrCreateDatabase("MyDB", MODE_PRIVATE, null);
db.execSQL("CREATE TABLE IF NOT EXISTS users(id INTEGER, name TEXT)");
```
### Cache Files
- Stored in getCacheDir() (internal)  `/data/data/<package_name>/cache/`   or getExternalCacheDir() (external) `/storage/emulated/0/Android/data/<package_name>/cache/` .
- Temporary data used to make apps faster.
- System may delete cache anytime if space is needed.
- You should not store important data here.
```java
File cacheFile = new File(context.getCacheDir(), "temp.txt");
```

## External Storage Permissions 
### READ_EXTERNAL_STORAGE
- Scope: Grants an app read-only access to shared media files (photos, videos, audio) and other public files on external storage.
- Purpose: Allows apps to view files that the user or other apps have created. It's the standard permission for media-related apps.
- Status: A runtime permission that still serves its purpose today. Apps need to request it from the user to access files outside of their private storage.
### WRITE_EXTERNAL_STORAGE
- Scope: Grants an app the ability to write to and modify files in shared external storage directories.
- Purpose: Allows apps to save files like photos, documents, and other user-generated content.
- Status: This permission is **considered deprecated** for apps targeting Android 10 (API 29) and higher. Under the Scoped Storage model, apps can write to their private directories and to public media directories (like the Pictures or Downloads folders) without this permission. It's rarely needed for modern app development.
### MANAGE_EXTERNAL_STORAGE
- Scope: Grants an app broad read and write access to all files on the entire external storage volume (even scoped storage).
- Purpose: This is a powerful, high-privilege permission for apps that require a wide view of the file system, such as file managers, backup apps, and antivirus software.
- Status: Introduced in Android 11 (API 30), it is a special permission that requires a complex request process and is subject to strict review by Google. Most apps should avoid this permission.
